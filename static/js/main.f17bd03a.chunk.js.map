{"version":3,"sources":["assets/twitter-logo.svg","constants.js","Components/LoadingIndicator/index.js","Components/SelectCharacter/index.js","Components/Arena/index.js","App.js","index.js"],"names":["CONTRACT_ADDRESS","transformCharacterData","characterData","name","imageURI","hp","toNumber","maxHp","attackDamage","LoadingIndicator","className","SelectCharacter","setCharacterNFT","useState","characters","setCharacters","gameContract","setGameContract","mintingCharacter","setMintingCharacter","useEffect","ethereum","window","signer","ethers","providers","Web3Provider","getSigner","Contract","myEpicGame","abi","console","log","getCharacters","getAllDefaultCharacters","charactersTxn","map","error","onCharacterMint","sender","tokenId","characterIndex","alert","checkIfUserHasNFT","characterNFT","on","off","length","character","index","src","alt","type","onClick","characterId","mintCharacterNFT","mintTxn","wait","warn","Arena","currentAccount","boss","setBoss","attackState","setAttackState","showToast","setShowToast","runAttackAction","attackBoss","txn","setTimeout","fetchBoss","getBigBoss","bossTxn","onAttackComplete","from","newBossHp","newPlayerHp","bossHp","playerHp","toString","toLowerCase","prevState","id","value","max","TWITTER_HANDLE","TWITTER_LINK","App","setCurrentAccount","isLoading","setIsLoading","checkIfWalletIsConnected","request","method","accounts","account","connectWalletAction","fetchNFTMetadata","provider","twitterLogo","href","target","rel","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f17bd03a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/twitter-logo.a8a75254.svg\";","const CONTRACT_ADDRESS = \"0x8a58e5cF7A81eA04C287c71b16B9Cc57bDe8acCa\";\n\n/*\n * Add this method and make sure to export it on the bottom!\n */\nconst transformCharacterData = (characterData) => {\n  return {\n    name: characterData.name,\n    imageURI: characterData.imageURI,\n    hp: characterData.hp.toNumber(),\n    maxHp: characterData.maxHp.toNumber(),\n    attackDamage: characterData.attackDamage.toNumber(),\n  };\n};\n\nexport { CONTRACT_ADDRESS, transformCharacterData };\n","import React from 'react';\nimport './LoadingIndicator.css';\n\nconst LoadingIndicator = () => {\n  return (\n    <div className=\"lds-ring\">\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default LoadingIndicator;\n","import React, { useEffect, useState } from \"react\";\nimport \"./SelectCharacter.css\";\nimport { ethers } from \"ethers\";\nimport { CONTRACT_ADDRESS, transformCharacterData } from \"../../constants\";\nimport myEpicGame from \"../../utils/MyEpicGame.json\";\nimport LoadingIndicator from \"../../Components/LoadingIndicator\";\n\n/*\n * Don't worry about setCharacterNFT just yet, we will talk about it soon!\n */\nconst SelectCharacter = ({ setCharacterNFT }) => {\n  const [characters, setCharacters] = useState([]);\n  const [gameContract, setGameContract] = useState(null);\n  const [mintingCharacter, setMintingCharacter] = useState(false);\n\n  // Actions\n  const mintCharacterNFTAction = (characterId) => async () => {\n    try {\n      if (gameContract) {\n        /*\n         * Show our loading indicator\n         */\n        setMintingCharacter(true);\n        console.log(\"Minting character in progress...\");\n        const mintTxn = await gameContract.mintCharacterNFT(characterId);\n        await mintTxn.wait();\n        console.log(mintTxn);\n        /*\n         * Hide our loading indicator when minting is finished\n         */\n        setMintingCharacter(false);\n      }\n    } catch (error) {\n      console.warn(\"MintCharacterAction Error:\", error);\n      /*\n       * If there is a problem, hide the loading indicator as well\n       */\n      setMintingCharacter(false);\n    }\n  };\n\n  // Render Methods\n  const renderCharacters = () =>\n    characters.map((character, index) => (\n      <div className=\"character-item\" key={character.name}>\n        <div className=\"name-container\">\n          <p>{character.name}</p>\n        </div>\n        <img src={character.imageURI} alt={character.name} />\n        <button\n          type=\"button\"\n          className=\"character-mint-button\"\n          onClick={() => mintCharacterNFTAction(index)}\n        >{`Mint ${character.name}`}</button>\n      </div>\n    ));\n\n  // UseEffect\n  useEffect(() => {\n    const { ethereum } = window;\n\n    if (ethereum) {\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const gameContract = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        myEpicGame.abi,\n        signer\n      );\n\n      /*\n       * This is the big difference. Set our gameContract in state.\n       */\n      setGameContract(gameContract);\n    } else {\n      console.log(\"Ethereum object not found\");\n    }\n  }, []);\n\n  useEffect(() => {\n    const getCharacters = async () => {\n      try {\n        console.log(\"Getting contract characters to mint\");\n\n        const charactersTxn = await gameContract.getAllDefaultCharacters();\n        console.log(\"charactersTxn:\", charactersTxn);\n\n        const characters = charactersTxn.map((characterData) =>\n          transformCharacterData(characterData)\n        );\n\n        setCharacters(characters);\n      } catch (error) {\n        console.error(\"Something went wrong fetching characters:\", error);\n      }\n    };\n\n    /*\n     * Add a callback method that will fire when this event is received\n     */\n    const onCharacterMint = async (sender, tokenId, characterIndex) => {\n      console.log(\n        `CharacterNFTMinted - sender: ${sender} tokenId: ${tokenId.toNumber()} characterIndex: ${characterIndex.toNumber()}`\n      );\n      alert(\n        `Your NFT is all done -- see it here: https://goerli.pixxiti.com/nfts/${CONTRACT_ADDRESS}/${tokenId.toNumber()}`\n      );\n\n      /*\n       * Once our character NFT is minted we can fetch the metadata from our contract\n       * and set it in state to move onto the Arena\n       */\n      if (gameContract) {\n        const characterNFT = await gameContract.checkIfUserHasNFT();\n        console.log(\"CharacterNFT: \", characterNFT);\n        setCharacterNFT(transformCharacterData(characterNFT));\n      }\n    };\n\n    if (gameContract) {\n      getCharacters();\n\n      /*\n       * Setup NFT Minted Listener\n       */\n      gameContract.on(\"CharacterNFTMinted\", onCharacterMint);\n    }\n\n    return () => {\n      /*\n       * When your component unmounts, let;s make sure to clean up this listener\n       */\n      if (gameContract) {\n        gameContract.off(\"CharacterNFTMinted\", onCharacterMint);\n      }\n    };\n  }, [gameContract]);\n\n  return (\n    <div className=\"select-character-container\">\n      <h2>Mint Your Hero. Choose wisely.</h2>\n      {characters.length > 0 && (\n        <div className=\"character-grid\">{renderCharacters()}</div>\n      )}\n      {/* Only show our loading state if mintingCharacter is true */}\n      {mintingCharacter && (\n        <div className=\"loading\">\n          <div className=\"indicator\">\n            <LoadingIndicator />\n            <p>Minting In Progress...</p>\n          </div>\n          <img\n            src=\"https://media2.giphy.com/media/61tYloUgq1eOk/giphy.gif?cid=ecf05e47dg95zbpabxhmhaksvoy8h526f96k4em0ndvx078s&rid=giphy.gif&ct=g\"\n            alt=\"Minting loading indicator\"\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SelectCharacter;\n","import React, { useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { CONTRACT_ADDRESS, transformCharacterData } from \"../../constants\";\nimport myEpicGame from \"../../utils/MyEpicGame.json\";\nimport \"./Arena.css\";\nimport LoadingIndicator from \"../../Components/LoadingIndicator\";\n\n/*\n * We pass in our characterNFT metadata so we can show a cool card in our UI\n */\nconst Arena = ({ characterNFT, setCharacterNFT, currentAccount }) => {\n  // State\n  const [gameContract, setGameContract] = useState(null);\n  const [boss, setBoss] = useState(null);\n  const [attackState, setAttackState] = useState(\"\");\n  const [showToast, setShowToast] = useState(false);\n\n  const runAttackAction = async () => {\n    try {\n      if (gameContract) {\n        setAttackState(\"attacking\");\n        console.log(\"Attacking boss...\");\n        const txn = await gameContract.attackBoss();\n        await txn.wait();\n        console.log(txn);\n        setAttackState(\"hit\");\n\n        /*\n         * Set your toast state to true and then false 5 seconds later\n         */\n        setShowToast(true);\n        setTimeout(() => {\n          setShowToast(false);\n        }, 5000);\n      }\n    } catch (error) {\n      console.error(\"Error attacking boss:\", error);\n      setAttackState(\"\");\n    }\n  };\n\n  // UseEffects\n  useEffect(() => {\n    const { ethereum } = window;\n\n    if (ethereum) {\n      const provider = new ethers.providers.Web3Provider(ethereum);\n      const signer = provider.getSigner();\n      const gameContract = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        myEpicGame.abi,\n        signer\n      );\n\n      setGameContract(gameContract);\n    } else {\n      console.log(\"Ethereum object not found\");\n    }\n  }, []);\n\n  useEffect(() => {\n    const fetchBoss = async () => {\n      const bossTxn = await gameContract.getBigBoss();\n      console.log(\"Boss:\", bossTxn);\n      setBoss(transformCharacterData(bossTxn));\n    };\n\n    /*\n     * Setup logic when this event is fired off\n     */\n    const onAttackComplete = (from, newBossHp, newPlayerHp) => {\n      const bossHp = newBossHp.toNumber();\n      const playerHp = newPlayerHp.toNumber();\n      const sender = from.toString();\n\n      console.log(`AttackComplete: Boss Hp: ${bossHp} Player Hp: ${playerHp}`);\n\n      /*\n       * If player is our own, update both player and boss Hp\n       */\n      if (currentAccount === sender.toLowerCase()) {\n        setBoss((prevState) => {\n          return { ...prevState, hp: bossHp };\n        });\n        setCharacterNFT((prevState) => {\n          return { ...prevState, hp: playerHp };\n        });\n      } else {\n        /*\n         * If player isn't ours, update boss Hp only\n         */\n        setBoss((prevState) => {\n          return { ...prevState, hp: bossHp };\n        });\n      }\n    };\n\n    if (gameContract) {\n      fetchBoss();\n      gameContract.on(\"AttackComplete\", onAttackComplete);\n    }\n\n    /*\n     * Make sure to clean up this event when this component is removed\n     */\n    return () => {\n      if (gameContract) {\n        gameContract.off(\"AttackComplete\", onAttackComplete);\n      }\n    };\n  }, [gameContract]);\n\n  return (\n    <div className=\"arena-container\">\n      {/* Add your toast HTML right here */}\n      {boss && characterNFT && (\n        <div id=\"toast\" className={showToast ? \"show\" : \"\"}>\n          <div id=\"desc\">{`üí• ${boss.name} was hit for ${characterNFT.attackDamage}!`}</div>\n        </div>\n      )}\n\n      {/* Boss */}\n      {boss && (\n        <div className=\"boss-container\">\n          <div className={`boss-content  ${attackState}`}>\n            <h2>üî• {boss.name} üî•</h2>\n            <div className=\"image-content\">\n              <img src={boss.imageURI} alt={`Boss ${boss.name}`} />\n              <div className=\"health-bar\">\n                <progress value={boss.hp} max={boss.maxHp} />\n                <p>{`${boss.hp} / ${boss.maxHp} HP`}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"attack-container\">\n            <button className=\"cta-button\" onClick={runAttackAction}>\n              {`üí• Attack ${boss.name}`}\n            </button>\n          </div>\n          {attackState === \"attacking\" && (\n            <div className=\"loading-indicator\">\n              <LoadingIndicator />\n              <p>Attacking ‚öîÔ∏è</p>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Character NFT */}\n      {characterNFT && (\n        <div className=\"players-container\">\n          <div className=\"player-container\">\n            <h2>Your Character</h2>\n            <div className=\"player\">\n              <div className=\"image-content\">\n                <h2>{characterNFT.name}</h2>\n                <img\n                  src={characterNFT.imageURI}\n                  alt={`Character ${characterNFT.name}`}\n                />\n                <div className=\"health-bar\">\n                  <progress value={characterNFT.hp} max={characterNFT.maxHp} />\n                  <p>{`${characterNFT.hp} / ${characterNFT.maxHp} HP`}</p>\n                </div>\n              </div>\n              <div className=\"stats\">\n                <h4>{`‚öîÔ∏è Attack Damage: ${characterNFT.attackDamage}`}</h4>\n              </div>\n            </div>\n          </div>\n          {/* <div className=\"active-players\">\n            <h2>Active Players</h2>\n            <div className=\"players-list\">{renderActivePlayersList()}</div>\n          </div> */}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Arena;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport twitterLogo from \"./assets/twitter-logo.svg\";\n\nimport SelectCharacter from \"./Components/SelectCharacter\";\n\nimport { CONTRACT_ADDRESS, transformCharacterData } from \"./constants\";\n\nimport myEpicGame from \"./utils/MyEpicGame.json\";\nimport Arena from \"./Components/Arena\";\nimport LoadingIndicator from \"./Components/LoadingIndicator\";\n\nimport { ethers } from \"ethers\";\n\n// Constants\nconst TWITTER_HANDLE = \"belushkin\";\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\n\nconst checkNetwork = async () => {\n  try {\n    if (window.ethereum.networkVersion !== \"5\") {\n      alert(\"Please connect to Goerli!\");\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst App = () => {\n  // State\n  const [currentAccount, setCurrentAccount] = useState(null);\n\n  /*\n   * Right under current account, setup this new state property\n   */\n  const [characterNFT, setCharacterNFT] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Actions\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        console.log(\"Make sure you have MetaMask!\");\n        /*\n         * We set isLoading here because we use return in the next line\n         */\n        setIsLoading(false);\n        return;\n      } else {\n        console.log(\"We have the ethereum object\", ethereum);\n\n        const accounts = await ethereum.request({ method: \"eth_accounts\" });\n\n        if (accounts.length !== 0) {\n          const account = accounts[0];\n          console.log(\"Found an authorized account:\", account);\n          setCurrentAccount(account);\n        } else {\n          console.log(\"No authorized account found\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    /*\n     * We release the state property after all the function logic\n     */\n    setIsLoading(false);\n  };\n\n  const renderContent = () => {\n    /*\n     * If the app is currently loading, just render out LoadingIndicator\n     */\n    if (isLoading) {\n      return <LoadingIndicator />;\n    }\n\n    if (!currentAccount) {\n      return (\n        <div className=\"connect-wallet-container\">\n          <img\n            src=\"https://64.media.tumblr.com/tumblr_mbia5vdmRd1r1mkubo1_500.gifv\"\n            alt=\"Monty Python Gif\"\n          />\n          <button\n            className=\"cta-button connect-wallet-button\"\n            onClick={connectWalletAction}\n          >\n            Connect Wallet To Get Started\n          </button>\n        </div>\n      );\n    } else if (currentAccount && !characterNFT) {\n      return <SelectCharacter setCharacterNFT={setCharacterNFT} />;\n    } else if (currentAccount && characterNFT) {\n      return (\n        <Arena\n          characterNFT={characterNFT}\n          setCharacterNFT={setCharacterNFT}\n          currentAccount={currentAccount}\n        />\n      );\n    }\n  };\n\n  /*\n   * Implement your connectWallet method here\n   */\n  const connectWalletAction = async () => {\n    try {\n      const { ethereum } = window;\n\n      if (!ethereum) {\n        alert(\"Get MetaMask!\");\n        return;\n      }\n\n      /*\n       * Fancy method to request access to account.\n       */\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n\n      /*\n       * Boom! This should print out public address once we authorize Metamask.\n       */\n      console.log(\"Connected\", accounts[0]);\n      setCurrentAccount(accounts[0]);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    checkIfWalletIsConnected();\n  }, []);\n\n  useEffect(() => {\n    const fetchNFTMetadata = async () => {\n      console.log(\"Checking for Character NFT on address:\", currentAccount);\n\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const signer = provider.getSigner();\n      const gameContract = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        myEpicGame.abi,\n        signer\n      );\n\n      const characterNFT = await gameContract.checkIfUserHasNFT();\n      if (characterNFT.name) {\n        console.log(\"User has character NFT\");\n        setCharacterNFT(transformCharacterData(characterNFT));\n      }\n\n      /*\n       * Once we are done with all the fetching, set loading state to false\n       */\n      setIsLoading(false);\n    };\n\n    if (currentAccount) {\n      console.log(\"CurrentAccount:\", currentAccount);\n      fetchNFTMetadata();\n    }\n  }, [currentAccount]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"header-container\">\n          <p className=\"header gradient-text\">‚öîÔ∏è Metaverse Slayer ‚öîÔ∏è</p>\n          <p className=\"sub-text\">Team up to protect the Metaverse!</p>\n          {/* This is where our button and image code used to be!\n           *\tRemember we moved it into the render method.\n           */}\n          {renderContent()}\n        </div>\n        <div className=\"footer-container\">\n          <img alt=\"Twitter Logo\" className=\"twitter-logo\" src={twitterLogo} />\n          <a\n            className=\"footer-text\"\n            href={TWITTER_LINK}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >{`built with @${TWITTER_HANDLE}`}</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}